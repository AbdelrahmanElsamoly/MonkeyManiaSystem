<!-- main-page.component.html -->
<div class="main-page">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0 mt-5">{{ "DASHBOARD" | translate }} ... üìä</h1>

    <!-- Date Range Picker -->
  </div>

  <div
    *ngIf="
      userInfo.role == 'manager' ||
      userInfo.role == 'owner' ||
      userInfo.role == 'admin'
    "
  >
    <div class="d-flex align-items-center">
      <mat-form-field appearance="fill" style="margin: 0px 30px 0px 30px">
        <mat-label>{{ "SELECT_DATE_RANGE" | translate }}</mat-label>
        <mat-date-range-input [rangePicker]="picker">
          <input
            matStartDate
            [placeholder]="'START_DATE' | translate"
            (dateChange)="onStartDateChange($event.value)"
            [value]="selectedDateRange.start"
          />
          <input
            matEndDate
            [placeholder]="'END_DATE' | translate"
            (dateChange)="onEndDateChange($event.value)"
            [value]="selectedDateRange.end"
          />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>
    </div>
    <!-- Arabic date range display -->
    <div
      style="margin: 0px 30px 30px 30px"
      *ngIf="selectedDateRange.start && selectedDateRange.end"
    >
      <span class="date-range-arabic"> ‚è∞ {{ getDateRangeInArabic() }} </span>
    </div>
  </div>

  <div class="widgets-container">
    <div
      class="widget-card"
      *ngFor="let item of data"
      [ngStyle]="{
        background: item.gradient
      }"
    >
      <div
        class="widget-content d-flex align-items-center justify-content-between p-3"
      >
        <div class="widget-info">
          <div class="fw-bold widget-title">{{ item.title | translate }}</div>
          <div class="fw-bold widget-value">{{ item.value }}</div>
          <div class="small widget-subtext">{{ item.subtext }}</div>
        </div>
        <div
          class="icon-circle mb-2 d-flex align-items-center justify-content-center"
        >
          {{ item.icon }}
        </div>
      </div>
    </div>
  </div>
</div>
